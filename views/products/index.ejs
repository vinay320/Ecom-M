<% layout('layouts/bolierplate')-%>
<div class="container">

    <%- include('../partials/flash') -%>


</div>
<div class="row">
    <%for(let product of products){%>
    <div class="col-lg-4 mb-3 shadow p-3 mb-5 bg-body-tertiary rounded">
        <div class="card mx-auto " style="width: 18rem; height: 600px;">
            <img height="400px" class="card-img-top" src="<%=product.img%>" alt="item image">
            <div class="card-body">
               <span style="display: flex; justify-content: space-evenly;">
                <h5 class="card-title">  
                    <%=product.name%>
                </h5>
                <span class="btn like-button bg-light rounded-circle" product-id="<%=product._id%>">
                    <% if(currentUser && currentUser.wishList.includes(product._id)){ %>
                        <i class="fas fa-heart"></i>
                        <% }else {%>
                            <i class="far fa-heart"></i>
                            <% } %>
                </span>

                </span>
                <h5 class="card-title">
                    $ <%=product.price%>
                </h5>
                <p class="card-text"><%=product.desc.substring(0,100)%></p>
                <a href="/products/<%=product._id%>" class="btn btn-info btn-sm">Buy Now</a>
            </div>
        </div>
    </div>
    <%}%>
</div>
<script src="/js/common.js"></script>

